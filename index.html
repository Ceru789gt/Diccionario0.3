<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>DICCIONARIO JOVEN</title>
<style>
:root {
  --main-color: #ff9f43;
  --bg-color: #f5f5f5;
  --text-color: #333;
}

body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
  padding: 20px;
  background-color: var(--bg-color);
  color: var(--text-color);
  transition: background 0.4s, color 0.4s;
}

h1 { text-align: center; margin: 20px 0; color: var(--main-color); }

#logo { display: block; margin: 0 auto 30px auto; width: 140px; }

#search {
  width: 100%; max-width: 500px; margin: 0 auto 25px auto;
  display: block; padding: 14px 20px; border-radius: 25px;
  border: none; font-size: 16px; outline: none;
  box-shadow: 0 4px 12px rgba(0,0,0,0.1);
}
#search:focus {
  box-shadow: 0 0 0 3px rgba(0,0,0,0.1),
              0 0 0 6px var(--main-color);
}

#dictionary { display: flex; flex-wrap: wrap; justify-content: center; gap: 20px; }

.word-card {
  border-radius: 16px; padding: 20px; width: 260px;
  box-shadow: 0 6px 20px rgba(0,0,0,0.08);
  transition: transform 0.3s, box-shadow 0.3s; color: #fff;
}
.word-card h2 { margin: 0 0 8px 0; }
.word-card p { margin: 5px 0; }
.ejemplo { font-style: italic; opacity: 0.9; }

.highlight { background: rgba(255,255,0,0.6); font-weight: bold; border-radius: 2px; padding: 0 3px; }

.no-results { width: 100%; text-align: center; opacity: 0.7; }

.controls { display: flex; justify-content: center; gap: 20px; margin: 30px 0; }
#colorPicker { width: 50px; height: 50px; border: none; cursor: pointer; }
.dark { --bg-color: #121212; --text-color: #eaeaea; }
</style>
</head>

<body>

<h1>DICCIONARIO JOVEN</h1>
<img id="logo" src="logo.png" alt="logo">

<input id="search" type="text" placeholder="Busca una palabra...">
<div id="dictionary"></div>

<div class="controls">
  <input type="color" id="colorPicker" value="#ff9f43">
  <button id="darkBtn">ðŸŒ™</button>
</div>

<script>
let words = [];
const neonColors = ["#ff3f81","#ff9f43","#3affc4","#43a1ff","#9d43ff","#ffeb3f","#ff6b6b","#43ff8a"];
const search = document.getElementById("search");
const dict = document.getElementById("dictionary");
const picker = document.getElementById("colorPicker");
const darkBtn = document.getElementById("darkBtn");

/* ---- CARGAR JSON FUNCIONANDO EN GITHUB PAGES Y LOCAL ---- */
function loadJSON(file, callback) {
  const xhr = new XMLHttpRequest();
  xhr.overrideMimeType("application/json");
  xhr.open('GET', file, true);
  xhr.onreadystatechange = function() {
    if (xhr.readyState === 4 && xhr.status == "200") {
      callback(JSON.parse(xhr.responseText));
    }
  };
  xhr.send(null);
}

loadJSON("words.json", function(data){
  words = data;
});

/* ---- HIGHLIGHT ---- */
function highlight(text, term) {
  if (!term) return text;
  return text.replace(new RegExp(`(${term})`, "gi"), '<span class="highlight">$1</span>');
}

/* ---- BUSCADOR ---- */
search.addEventListener("input", () => {
  const t = search.value.toLowerCase();
  dict.innerHTML = "";
  if (!t) return;

  const results = words.filter(w =>
    w.palabra.toLowerCase().includes(t) ||
    w.definicion.toLowerCase().includes(t) ||
    w.ejemplo.toLowerCase().includes(t)
  );

  if (!results.length) {
    dict.innerHTML = '<p class="no-results">No se encontrÃ³ ninguna palabra</p>';
    return;
  }

  results.forEach((w,i)=>{
    const color = neonColors[i % neonColors.length];
    dict.innerHTML += `
      <div class="word-card" style="background-color:${color}">
        <h2>${highlight(w.palabra, t)}</h2>
        <p>${highlight(w.definicion, t)}</p>
        <p class="ejemplo">${highlight(w.ejemplo, t)}</p>
      </div>
    `;
  });
});

/* ---- COLOR PICKER ---- */
picker.addEventListener("input", ()=>{
  document.documentElement.style.setProperty("--main-color", picker.value);
});

/* ---- DARK MODE ---- */
darkBtn.addEventListener("click", ()=>{
  document.body.classList.toggle("dark");
});
</script>

</body>
</html>


